<!DOCTYPE html>
<html lang="en">
<head>
 <title>B0929009宋昭佑HW4</title>
    <!-- 連結JQuery Library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

 <style>
     /*.line
     {
         height:100%;
         left:1355px;
         position:absolute;
         border-left:thick solid rgb(115, 9, 237);

     }*/
        img {
            position: absolute;
            left: 168px;
            top: 70px;
            width: 80px;
            height: 80px;
        }
        body {
        text-align: center;
        }
        h1.set{display:inline}
        button.set{display:inline}
        p.set{display:inline}
</style>

</head>

<body>
        <div class="line"></div>
        <h1 class="set">TypingGame!</h1>
        <button id="start"class="set">開始遊戲</button>
        <p class="set">分數:</p>
        <h1 id="score_id"class="set">0</h1>
        
<hr>
<canvas id="way1"class="way" width="1200px" height="100px"></canvas>
<div id="a1"></div>


<script type="text/javascript">
    var t1;
    $(document).click(function () {
        t1 = setInterval(function () {
            var str = Math.floor((Math.random() * (26)) + 65);
            $("#a1").prepend('<img src="' + String.fromCharCode(str).toUpperCase() + '.jpg" id="' + str + '" class="row1" /> ');
            $("#" + str).animate({
                left: '1290px'
            }, 10000);
            setInterval(function () {
                if ($(".row1").last().offset().left > 1289) {
                    $("img").stop(true);
                    clearInterval(t1);
                    return
                }
            }, 1);
            
        }, 1000);
    })
    $(document).keydown(function (e) {
        if ($(".row1").last().attr("id") == (e.keyCode)) {
            $(".row1").last().remove();
            updateScore(score+1)
        }
    });  
    //顯示跑道
    var elements=$('.way'); 
    for (var i = 0; i < elements.length; i++) { 
            elements[i].style.backgroundColor='black'; 
            elements[i].style.border="2px solid gold"; 
    }
        //更新分數
        var score=0;
function updateScore(newScore) {
        score = newScore
        $("#score_id").html(score)
    }
</script>
</body>
</html>
